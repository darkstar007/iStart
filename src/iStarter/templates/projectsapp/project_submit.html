{% extends "base.html" %}

{% block classification_head %} {{ classification|upper }} {% endblock classification_head %}		

{% block extra_js %}

  	<script>
  	
  		
  		// Adds tags to an array for form population
  		var inputTags = new Array();
  		
  		function modifyTagsArray(e) {
  			
  			idx = inputTags.indexOf(e.id);
  			//alert(idx);
  			if (idx < 0) {
  				addToTagsArray(e.id);
  				document.getElementById(e.id).className = "btn btn-mini btn-success";
  				}
  			else {
  				removeFromArray(e.id);
  				document.getElementById(e.id).className = "btn btn-mini";
  				}
  			//alert(inputTags);
  		}
  		
  		// Add an element to the array
  		function addToTagsArray(value) {
  			inputTags.push(value);
  		}
  	  	
  		// remove an element from the array
  		function removeFromArray(value) {
  			idx = inputTags.indexOf(value);
  			inputTags.splice( idx, 5 );
  		}
  		
  		// Assign the hidden tags field to the tags array
  		function setTagsList() {
  			document.getElementById("id_existing_tags").value = inputTags;
  		}

  		
  	</script>

{% endblock extra_js %} 

{% block top_row %}
	<div class="row-fluid">
		<div class="span12 offset1">
			<h1>{{ page_title }}</h1>
			</br></br>
		</div>
	</div>

{% endblock top_row %}

{% block main_block %}

	<form action="." method="POST">{% csrf_token %}

		<div class="row-fluid">
			<div class="span3 offset1">
				<h4>Ideas</h4>
			</div>
			<div class="span4">
				<h4>Project Detail</h4>
			</div>
			<div class="span3">
				<h4>Tags</h4>
			</div>
		</div>
		
		<div class="row-fluid">
			
			<div class="span3 offset1">
				<div>
					{{ form.ideas.errors }}
					{{ form.ideas }}
				</div>
				<hr></hr>
				<div class="row-fluid">
					{{ form.importance_level.errors }}
					<div class="span4">
						Importance
					</div>
					<div class="span4">
						{{ form.importance_level }}
					</div>
				</div>
				<div class="row-fluid">
					{{ form.effort_level.errors }}
					<div class="span4">
						Effort
					</div>
					<div class="span4">
						{{ form.effort_level }}
					</div>
				</div>
				<div class="row-fluid">
					{{ form.resource_level.errors }}
					<div class="span4">
						Resource
					</div>
					<div class="span4">
						{{ form.resource_level }}
					</div>
				</div>
			</div>
			
			<div class="span4">
		        <div>
			        {{ form.title.errors }}
			        {{ form.title }}
				</div>
				<div>
			        {{ form.description.errors }}
			        {{ form.description }}
				</div>
			</div>
			
			<div class="span3">
				<!-- border:1px solid #BCC6CC; background:white;  -->
				<div class="span12" style="padding:2px; border-radius:3px; margin:0px auto 5px auto; overflow: auto; max-height: 380px;">
					{% for known_tag in known_tags %}
						<button id="{{ known_tag }}" style="margin:0px auto 4px auto;" class="btn btn-mini" onclick="modifyTagsArray(this)" type="button">{{ known_tag }}</button>
					{% endfor %}
					<!-- Hidden -->	
			        {{ form.existing_tags }}
					<!-- Hidden -->	
				</div> 
				<div>
		        	{{ form.new_tags.errors }}
		        	{{ form.new_tags }}
				</div>
				<hr></hr>
				<div class="span12" style="margin:0px auto 5px auto;">
					<div class="row-fluid">
						{{ form.cls.errors }}
						<div class="span8">
							{{ form.cls }}
						</div>
						<div class="span4">
							<input onclick="setTagList()" class="btn btn-primary" style="float:right; padding:0px auto; margin:0px auto;" type="submit" value="Send"/>
						</div>
					</div>
				</div>
			
			</div>
		</div>
		
	</form>
	
{% endblock main_block %}

{% block classification_tail %} {{ classification }} {% endblock classification_tail %}
