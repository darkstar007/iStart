{% extends "base.html" %}

{% block classification_head %} {{ classification|upper }} {% endblock classification_head %}		

{% block extra_js %}

{% endblock extra_js %} 

{% block top_row %}

    <div class="row-fluid">
        <div class="span6 offset3">
            <h2 class="text-center">{{ page_title }}</h2>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span6 offset4">
                <p><em>Published on: {{ data.pub_date }}</em></p>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span6 offset4">
                <p><a class="btn btn-success btn-mini" href="/projects/back/{{data.id}}"</button>Back This Project</a>
                <button class="btn btn-mini btn-info" disabled href=#>Follow this Project</button>
                <button class="btn btn-mini btn-warning" href="#" onclick="javascript:window.location='mailto:?subject=Check out this iStarter Project&body=' + window.location;">Share this Project</button>  
        </div>
    </div>                        

    <div class="row-fluid">
        <div class="span6 offset3">
            <div class="row-fluid">
                <div class="span3">
                    <div class="thumbnail" style="height:135px;width:200px">
                        <a href="/projects/project_detail/{{ cell.id }}"><img src="/static/images/300x200.png"></a>
                     </div>
                </div>
                <div class="span6 offset2">
                    <h5><em>Effort: </em>
                        {% for effort in data.effort_list %}
                            <i class="icon-wrench"></i>
                        {% endfor %}
                    </h5>
                    <h5><em>Importance: </em>
                        {% for importance in data.importance_list %}
                            <i class="icon-fire"></i>
                        {% endfor %}
                    </h5>
                    <h5><em>Required Resource: </em>
                        {% for resource in data.resource_list %}
                            <i class="icon-user"></i>
                        {% endfor %}                    
                    </h5>
                    <h5><em>Backed by {{ data.num_backers }} of required {{ data.backersRequired }} ({{data.backPercentage}}%)</em></h5>
                    {% if cell.backPercentage < 33 %} 
                        {% if data.proj_active %}
                            <div class="progress progress-info progress-striped active">
                                <div class="bar" style="width: {{data.backPercentage}}%;"></div>
                            </div>
                        {% else %}
                            <div class="progress progress-danger">
                                <div class="bar" style="width: {{data.backPercentage}}%;"></div>
                            </div>
                        {% endif %}
                    {% elif data.backPercentage < 66 %}
                        {% if cell.proj_active %}
                            <div class="progress progress-info progress-striped active">
                                <div class="bar" style="width: {{data.backPercentage}}%;"></div>
                            </div>
                        {% else %}
                        <div class="progress progress-warning">
                            <div class="bar" style="width: {{data.backPercentage}}%;"></div>
                        </div>
                        {% endif %}
                    {% else %}
                        {% if data.proj_active %}
                            <div class="progress progress-info progress-striped active">
                                <div class="bar" style="width: {{data.backPercentage}}%;"></div>
                            </div>
                        {% else %}
                            <div class="progress progress-success">
                                <div class="bar" style="width: {{data.backPercentage}}%;"></div>
                            </div>
                        {% endif %}
                    {% endif %}
                </div>
            </div>
        </div>                                             
    </div>
    </br>
    <div class="row-fluid">
        <div class="span6 offset3">
            
        </div>
    </div>
{% endblock top_row %}

{% block main_block %}
<div class="row-fluid">
		<div class="span6 offset3">
                <h4><em>Project Description</em></h4>
                <p> {{ data.description }} </p>
                </br></br>                
                <h4><em>Project Gallery</em></h4>
                </br></br>
                <h4><em>Seed Ideas</em></h4>
                                <table class="table table-striped table-condensed table-bordered table-hover text-center sortable">
                                    <thead>
                                        <tr>
                                            {% for heading in headings_ideas %}
                                                <th> {{ heading.pretty }} </th>
                                            {% endfor %}
                                            <th>Feedback</th>
                                        </tr>
                                    </thead>
                                    {%for row in tableData_ideas %}
                                        <tr>
                                          {%for cell in row.cells%}    
                                            <td>{% if cell.field = "Idea Description" %}
                                            <button type="button" class="btn btn-mini" data-toggle="collapse" data-target=#div_{{cell.id}}>Show Details...</button>
                                            <div id="div_{{cell.id}}" class="collapse"> {{cell.full}} </div>   
                                            {% elif cell.field = "Number of Likes" %}
                                            <div id="celllike_{{row.uid}}" > {{cell.full}} </div>
                                            {% elif cell.field = "Number of DisLikes" %}
                                            <div id="celldislike_{{row.uid}}" > {{cell.full}} </div>              
                                            {% else %}
                                                {{cell.full}}                            
                                            {% endif %}
                                            {% if forloop.last %}
                                                </td>
                                                <td><span><button id="like_{{row.uid}}" type="button" class="btn btn-mini" onclick="loadXMLDoc(this.innerHTML,this.id);this.disabled=true;this.innerHTML='Liked'">Like</button>
                                                <button id="dislike_{{row.uid}}" type="button" class="btn btn-mini" onclick="loadXMLDoc(this.innerHTML,this.id);this.disabled=true;this.innerHTML='Disliked'">Dislike</button>
                                                </span></td>
                                            {% else %}
                                                </td>   
                                            {% endif %}                                                                       
                                        {% endfor %}
                                        </tr>
                                    {% endfor %}               
                                </table>


{% endblock main_block %}

{% block classification_tail %} {{ classification }} {% endblock classification_tail %}